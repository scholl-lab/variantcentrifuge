---
phase: 26-association-testing-documentation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/source/api/association.md
  - docs/source/api/index.md
  - docs/source/usage.md
  - docs/source/guides/cohort_analysis.md
  - docs/source/faq.md
  - docs/source/index.md
  - docs/source/changelog.md
  - README.md
autonomous: true

must_haves:
  truths:
    - "User can find association module in API reference docs"
    - "User reading usage.md sees association testing flags and a link to the guide"
    - "User reading cohort_analysis.md sees a pointer to association testing"
    - "User reading FAQ finds answers to common association testing questions"
    - "User reading README sees the association framework as a feature"
    - "User reading changelog sees v0.15.0 feature summary"
    - "User browsing docs index sees association testing in the feature list"
  artifacts:
    - path: "docs/source/api/association.md"
      provides: "API reference stub for association module"
      contains: "automodule:: variantcentrifuge.association"
    - path: "docs/source/changelog.md"
      provides: "v0.15.0 changelog entry"
      contains: "[0.15.0]"
    - path: "README.md"
      provides: "Updated feature list with association framework"
      contains: "association"
  key_links:
    - from: "docs/source/api/index.md"
      to: "docs/source/api/association.md"
      via: "toctree entry"
      pattern: "association"
    - from: "docs/source/usage.md"
      to: "docs/source/guides/association_testing.md"
      via: "cross-reference link"
      pattern: "association_testing"
    - from: "docs/source/index.md"
      to: "association testing"
      via: "feature description update"
      pattern: "association"
---

<objective>
Update existing documentation files with association testing cross-references, create API reference stubs, and add the v0.15.0 changelog entry.

Purpose: The main guide (Plan 01) covers the content; this plan ensures discoverability by updating every touchpoint where users might look for association testing information.

Output: API stub, updated cross-references in 5 existing docs, changelog entry, README update.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/26-association-testing-documentation/26-CONTEXT.md
@.planning/phases/26-association-testing-documentation/26-RESEARCH.md

# Files to update (read ALL before modifying)
@docs/source/api/index.md
@docs/source/api/gene_burden.md
@docs/source/usage.md
@docs/source/guides/cohort_analysis.md
@docs/source/faq.md
@docs/source/index.md
@docs/source/changelog.md
@README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create API reference stub and update API index</name>
  <files>docs/source/api/association.md, docs/source/api/index.md</files>
  <action>
**Create `docs/source/api/association.md`:**

Follow the exact pattern from `docs/source/api/gene_burden.md`. Create a single stub file for the association package covering public classes only:

```markdown
# Association Testing Module

Modular rare variant association testing framework.

```{eval-rst}
.. automodule:: variantcentrifuge.association
   :members:
   :undoc-members:
   :show-inheritance:
```
```

This will pull in all public exports from `__init__.py`: AssociationConfig, AssociationEngine, AssociationTest, TestResult, apply_correction.

**Update `docs/source/api/index.md`:**

Read the file first. Add `association` to the toctree. Place it near `gene_burden` since they are related modules. Follow the existing toctree format exactly.
  </action>
  <verify>
1. `docs/source/api/association.md` exists with automodule directive
2. `docs/source/api/index.md` contains `association` in toctree
  </verify>
  <done>
API reference stub exists for the association module and is linked from the API index.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update existing docs with cross-references</name>
  <files>docs/source/usage.md, docs/source/guides/cohort_analysis.md, docs/source/faq.md, docs/source/index.md</files>
  <action>
Read each file FIRST, then make targeted additions. Do NOT duplicate guide content — brief mention + link only.

**`docs/source/usage.md`:**
- Find the "Statistical Analysis" section (around lines 189-198)
- Add an "Association Testing" subsection AFTER the existing statistical analysis table
- Include a table of association-specific CLI flags (--perform-association, --association-tests, --skat-backend, --coast-backend, --covariate-file, --covariates, --categorical-covariates, --trait-type, --diagnostics-output, --variant-weights, --variant-weight-params, --coast-weights, --pca-file, --pca-tool, --pca-components)
- End with: "For detailed usage, test selection guidance, and examples, see the [Association Testing Guide](guides/association_testing.md)."

**`docs/source/guides/cohort_analysis.md`:**
- Find a suitable location (after gene burden testing content)
- Add a brief paragraph (3-4 sentences max): "For advanced association testing beyond Fisher's exact test — including SKAT-O, COAST, burden regression with covariates, and PCA adjustment — see the [Association Testing Guide](association_testing.md)."

**`docs/source/faq.md`:**
- Add 3 FAQ entries at the end or in a new "Association Testing" subsection:
  1. "How do I run a gene burden test with covariate adjustment?" — Point to --perform-association with --covariate-file, link to guide
  2. "What is ACAT-O and why should I use acat_o_corrected_p_value?" — Brief explanation of omnibus combination + single FDR, link to guide
  3. "Do I need R installed for SKAT or COAST?" — No, Python backends are default since v0.15.0, R is deprecated but available

**`docs/source/index.md`:**
- Find the "Gene Burden Testing" bullet in "Comprehensive Analysis Tools" section
- Update to mention the full association framework: "Association Testing: Modular framework with Fisher's exact, SKAT-O, COAST, burden regression, ACAT-O omnibus, covariates, PCA, and functional weights"
- Verify `association_testing` is in the guides toctree (Plan 01 Task 2 handles this in guides/index.md, but check if index.md also has a toctree that needs updating)
  </action>
  <verify>
1. usage.md has "Association Testing" subsection with CLI flag table and link to guide
2. cohort_analysis.md has brief pointer paragraph with link
3. faq.md has 3 association-related FAQ entries
4. index.md updated feature description mentions association framework
  </verify>
  <done>
All existing docs cross-reference the association testing guide. Users can find association testing from usage.md, cohort_analysis.md, FAQ, and the docs index.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add changelog entry and update README</name>
  <files>docs/source/changelog.md, README.md</files>
  <action>
**`docs/source/changelog.md`:**
Read the file first. Add a v0.15.0 entry following Keep a Changelog format. Place it after the `## [Unreleased]` section (or create one if needed), before `[0.14.0]`.

Use the changelog content from 26-RESEARCH.md as the basis:

```markdown
## [0.15.0] - 2026-02-22

### Added
- **Modular association testing framework** with pluggable test architecture:
  - Fisher's exact test with carrier/allele modes, odds ratio, and 95% CI
  - Logistic burden regression for binary traits with Firth fallback for separation
  - Linear burden regression for quantitative traits (OLS)
  - SKAT and SKAT-O with pure Python backend (numpy/scipy, thread-safe); R backend deprecated
  - COAST allelic series test (BMV/DMV/PTV categories); pure Python backend default
  - ACAT-O per-gene omnibus via Cauchy combination; ACAT-V per-variant score within SKAT
- **Covariate system**: TSV/CSV covariate files with auto-detected delimiter and categorical encoding
- **PCA integration**: PLINK .eigenvec, AKT output, and generic TSV formats; optional AKT subprocess
- **Variant weights**: Beta(MAF), uniform, CADD, REVEL, and combined functional weight schemes
- **Diagnostics**: Genomic inflation factor (lambda_GC), QQ data TSV, optional matplotlib QQ plot
- **JSON config**: `"association"` section in config.json with validation and CLI override precedence
- **Single FDR strategy**: Benjamini-Hochberg correction on ACAT-O p-values only (not per-test)
- **Association testing guide**: Comprehensive user documentation with examples and troubleshooting
```

Adjust the date to match today or use the milestone completion date.

**`README.md`:**
Read the file first. Find the feature list section. Add a bullet for the association framework:
- "**Modular association testing**: SKAT-O, COAST, burden regression, ACAT-O omnibus with covariate/PCA support — see the [Association Testing Guide](docs/source/guides/association_testing.md)"

Place it near the existing "Gene burden analysis" bullet. If there's already a gene burden bullet, update it to mention the new framework or add the new bullet right after it.
  </action>
  <verify>
1. changelog.md contains `[0.15.0]` section with "Added" entries
2. README.md contains association testing feature bullet
3. Changelog follows Keep a Changelog format (matches existing entries)
  </verify>
  <done>
v0.15.0 changelog entry documents all association testing features. README.md feature list includes the association framework with a link to the guide.
  </done>
</task>

</tasks>

<verification>
1. `docs/source/api/association.md` exists with automodule directive for variantcentrifuge.association
2. `docs/source/api/index.md` includes association in toctree
3. `docs/source/usage.md` has association testing CLI flag table + link to guide
4. `docs/source/guides/cohort_analysis.md` has brief association testing pointer
5. `docs/source/faq.md` has 3 association-related FAQ entries
6. `docs/source/index.md` updated feature description
7. `docs/source/changelog.md` has [0.15.0] entry
8. `README.md` has association framework feature bullet
</verification>

<success_criteria>
- API reference stub follows existing gene_burden.md pattern exactly
- Cross-references are brief (mention + link, no duplicated content)
- Changelog follows Keep a Changelog format with feature summary grouped by capability
- README addition is concise (one bullet + link)
- All 8 files updated correctly
</success_criteria>

<output>
After completion, create `.planning/phases/26-association-testing-documentation/26-02-SUMMARY.md`
</output>
